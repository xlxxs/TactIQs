<UserControl x:Class="TactIQ.Views.AnalysisUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:oxy="http://oxyplot.org/wpf"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d">

    <Border Padding="20" Background="#FFF" CornerRadius="10" BorderBrush="#DDD" BorderThickness="1">
        <DockPanel LastChildFill="True">

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10" DockPanel.Dock="Top" HorizontalAlignment="Left">
                <TextBlock Text="Gegner:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox Width="200" Margin="0,0,10,0"
                          ItemsSource="{Binding Opponents}"
                          DisplayMemberPath="Name"
                          SelectedItem="{Binding SelectedOpponent}" />

                <TextBlock Text="Von:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <DatePicker SelectedDate="{Binding FromDate}" />

                <TextBlock Text="Bis:" VerticalAlignment="Center" Margin="10,0,10,0"/>
                <DatePicker SelectedDate="{Binding ToDate}" />
            </StackPanel>

            <GroupBox Header="Letzte Matches" DockPanel.Dock="Top" Margin="0,0,0,15">
                <DataGrid ItemsSource="{Binding LastMatches}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          IsReadOnly="True"
                          Margin="10"
                          MinHeight="150"
                          Height="Auto">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Datum" Binding="{Binding Date, StringFormat=d}" Width="*" />
                        <DataGridTextColumn Header="Wettkampf" Binding="{Binding Competition}" Width="2*" />
                        <DataGridTextColumn Header="Ergebnis" Binding="{Binding Result}" Width="*" />
                        <DataGridCheckBoxColumn Header="Sieg" Binding="{Binding IsWin}" Width="Auto" />
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>

            <GroupBox Header="Auswertung">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Margin="5" BorderBrush="#CCC" BorderThickness="1" CornerRadius="5">
                        <oxy:PlotView Model="{Binding PieChartModel}" Margin="10" />
                    </Border>

                    <Border Grid.Column="1" Margin="5" BorderBrush="#CCC" BorderThickness="1" CornerRadius="5">
                        <oxy:PlotView Model="{Binding LineChartModel}" Margin="10" />
                    </Border>
                </Grid>
            </GroupBox>

        </DockPanel>
    </Border>
</UserControl>
